# Plan 20-04: HTML Class Replacements & Inline Style Removal

---
wave: 2
depends_on: [20-01]
files_modified:
  - login.html
  - reset-password.html
  - submit.html
  - about.html
  - moment.html
  - moments.html
  - postcards.html
  - suggest-text.html
autonomous: true
requirements: [VIS-01, VIS-02, VIS-03, VIS-04, VIS-05, VIS-06, VIS-07, VIS-09, RESP-03]
---

## Goal

Replace inline styles and page-specific CSS classes with the shared design system classes added in Plan 20-01. After this plan, login.html, reset-password.html, submit.html, about.html, moment.html, moments.html, postcards.html, and suggest-text.html all use the project's shared CSS classes consistently.

## Context

### VIS-01, VIS-02: Login/Reset form inputs use custom classes instead of shared .form-input
- login.html defines `.login-form__input` (lines 93-110) with similar but different styling than `.form-input` (style.css lines 1057-1069)
- reset-password.html defines `.reset-form__input` (lines 45-57) with the same issue
- Both should use the shared `.form-input` class for consistent border, focus shadow, and hover

### VIS-03: Login/reset success message uses wrong green
- login.html `.login-success` uses `color: #4ade80` (line 223) — should be `var(--gpt-color)` (#6ee7b7)
- reset-password.html `.reset-success` uses `color: #4ade80` (line 103) — same fix
- The background rgba values also differ: `rgba(74, 222, 128, ...)` vs project standard `rgba(110, 231, 183, ...)`

### VIS-04, VIS-05: Page titles use inline styles
- submit.html line 66: `<h1 style="font-size: 1.75rem; margin-bottom: var(--space-md);">` — use `.page-title`
- about.html line 66: `<h1 style="font-size: 1.75rem; margin-bottom: var(--space-lg);">` — use `.page-title`

### VIS-06: Submit info banner uses inline styles
- submit.html line 70: `<div style="background: var(--accent-gold-glow); border: ...">` — use `.alert.alert--info`

### VIS-07: Moment "Contribute" section uses undefined .card
- moment.html line 105: `<div class="card" style="padding: var(--space-lg);">` — `.card` is not defined in style.css
- Replace with `.form-section` which is defined and provides similar visual treatment

### VIS-09: moments.html nav missing active link
- moments.html nav has no `class="active"` — News link should be active (moments is a sub-page of News, like moment.html)

### RESP-03: Inline textarea min-height overrides (HTML side)
- suggest-text.html has two textareas with inline `style="min-height: 300px;"` and `style="min-height: 100px;"`
- postcards.html has one textarea with `style="min-height: 100px;"`
- Replace inline styles with `.form-textarea--tall` and `.form-textarea--compact` classes (added in Plan 20-01)

## Tasks

<task id="20-04-01">
<title>Replace login.html form inputs with shared .form-input class and fix success color</title>
<steps>
1. In login.html, replace all `class="login-form__input"` with `class="form-input"` (6 occurrences across signin, forgot, and signup forms)
2. In the `<style>` block, remove the `.login-form__input`, `.login-form__input:focus`, and `.login-form__input::placeholder` rules (they're now handled by the shared .form-input class)
3. In the `.login-success` rule, change:
   - `background: rgba(74, 222, 128, 0.1)` → `background: rgba(110, 231, 183, 0.1)`
   - `border: 1px solid rgba(74, 222, 128, 0.3)` → `border: 1px solid rgba(110, 231, 183, 0.3)`
   - `color: #4ade80` → `color: var(--gpt-color)`
</steps>
</task>

<task id="20-04-02">
<title>Replace reset-password.html form inputs with shared .form-input class and fix success color</title>
<steps>
1. In reset-password.html, replace all `class="reset-form__input"` with `class="form-input"` (2 occurrences)
2. In the `<style>` block, remove the `.reset-form__input`, `.reset-form__input:focus`, and `.reset-form__input::placeholder` rules
3. In the `.reset-success` rule, change:
   - `background: rgba(74, 222, 128, 0.1)` → `background: rgba(110, 231, 183, 0.1)`
   - `border: 1px solid rgba(74, 222, 128, 0.3)` → `border: 1px solid rgba(110, 231, 183, 0.3)`
   - `color: #4ade80` → `color: var(--gpt-color)`
</steps>
</task>

<task id="20-04-03">
<title>Replace inline page titles, info banner, and Contribute section with shared classes</title>
<steps>
1. In submit.html line 66, replace:
   `<h1 style="font-size: 1.75rem; margin-bottom: var(--space-md);">Submit a Response</h1>`
   with:
   `<h1 class="page-title">Submit a Response</h1>`
2. In about.html line 66, replace:
   `<h1 style="font-size: 1.75rem; margin-bottom: var(--space-lg);">About The Commons</h1>`
   with:
   `<h1 class="page-title">About The Commons</h1>`
3. In submit.html line 70, replace the info banner div:
   `<div style="background: var(--accent-gold-glow); border: 1px solid rgba(212, 165, 116, 0.3); border-radius: 6px; padding: 1rem 1.25rem; margin-bottom: var(--space-xl);">`
   with:
   `<div class="alert alert--info" style="margin-bottom: var(--space-xl);">`
   And remove the inner `<p style="...">` inline styles (keep the `<p>` tag with `style="margin: 0;"` since .alert doesn't set child paragraph margins)
4. In moment.html line 105, replace:
   `<div class="card" style="padding: var(--space-lg);">`
   with:
   `<div class="form-section">`
   (form-section already provides background, border, border-radius, and padding)
5. In moments.html, add `class="active"` to the News nav link:
   Change `<a href="news.html">News</a>` to `<a href="news.html" class="active">News</a>`
</steps>
</task>

<task id="20-04-04">
<title>Replace inline textarea min-heights with CSS modifier classes</title>
<steps>
1. In suggest-text.html line 91, replace:
   `class="form-textarea" ... style="min-height: 300px;"`
   with:
   `class="form-textarea form-textarea--tall"` (remove style attribute)
2. In suggest-text.html line 103, replace:
   `class="form-textarea" ... style="min-height: 100px;"`
   with:
   `class="form-textarea form-textarea--compact"` (remove style attribute)
3. In postcards.html line 141, replace:
   `style="min-height: 100px;"` on the textarea
   with:
   Add `form-textarea--compact` to the class list (remove style attribute)
</steps>
</task>

## Verification

- [ ] login.html form inputs have `class="form-input"` — no `.login-form__input` class references remain
- [ ] reset-password.html form inputs have `class="form-input"` — no `.reset-form__input` class references remain
- [ ] Login and reset success messages use `var(--gpt-color)` (#6ee7b7), not #4ade80
- [ ] submit.html h1 has `class="page-title"`, no inline style
- [ ] about.html h1 has `class="page-title"`, no inline style
- [ ] submit.html info banner uses `.alert.alert--info` class
- [ ] moment.html "Contribute" section uses `.form-section`, not `.card`
- [ ] moments.html News link has `class="active"`
- [ ] No inline `min-height` on textareas in suggest-text.html or postcards.html
- [ ] suggest-text.html textareas use `.form-textarea--tall` and `.form-textarea--compact`
- [ ] postcards.html textarea uses `.form-textarea--compact`

## must_haves
- Login and reset form inputs share the .form-input class with consistent focus shadow and border
- Success message color is var(--gpt-color) (#6ee7b7) on both auth pages
- Page titles on submit.html and about.html use .page-title class
- Submit info banner uses .alert.alert--info
- Moment Contribute section uses a defined CSS class (.form-section)
- moments.html nav marks News as active
- Textarea height overrides use CSS modifier classes instead of inline styles
